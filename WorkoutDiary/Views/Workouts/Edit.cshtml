@model WorkoutDiary.Models.Workout
@{
    ViewData["Title"] = "Редактирование тренировки";
}

<h2>Редактирование тренировки #@Model.Id</h2>

<form asp-action="Edit" method="post">
    <input type="hidden" name="Id" value="@Model.Id" />
    <div>
        <label>Заметка</label>
        <br />
        <textarea name="Note" rows="3" cols="50">@Model.Note</textarea>
    </div>
    <div style="margin-top: 10px;">
        <button type="submit">Сохранить</button>
        <a asp-action="Index" asp-route-date="@Model.Date.ToString("yyyy-MM-dd")">Назад</a>
    </div>
</form>

<h3>Упражнения</h3>
<ul>
    @foreach (var we in Model.WorkoutExercises)
    {
        <li>
            @we.Exercise.Name - Подходы: @we.Sets, Повторения: @we.Reps, Вес: @we.Weight кг
            <a asp-action="EditExercise" asp-route-id="@we.Id">Редактировать</a> |
            <a asp-action="DeleteExercise" asp-route-id="@we.Id" onclick="return confirm('Вы уверены, что хотите удалить это упражнение?')">Удалить</a>
        </li>
    }
</ul>

<h3>Добавить упражнение</h3>
<form asp-action="AddExercise" method="post">
    <input type="hidden" name="workoutId" value="@Model.Id" />
    <select name="exerciseId">
        @foreach (var exercise in ViewBag.Exercises)
        {
            <option value="@exercise.Id">@exercise.Name</option>
        }
    </select>
    <input type="number" name="sets" placeholder="Подходы" required min="1" />
    <input type="number" name="reps" placeholder="Повторения" required min="1" />
    <input type="number" name="weight" placeholder="Вес (кг)" step="0.1" required min="0" />
    <button type="submit">Добавить</button>
</form>